<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition>
	<!-- Modal Structure -->
	<div id="modal1" class="modal">

		<h5 class="card-title"
			style="color: #26a69a; text-align: center; font-size: 30px">Cadastramento
			de alimento</h5>
		<div class="card white darken-1" style="margin: 5%;">

			<div class="header center black-text text-lighten-1">

				<div class="row" style="margin: 5%;">
					<div class="col s12 input-field">
						<h:inputText id="nome" value="#{alimentoCtrl.alimento.nome}" />
						<h:outputLabel value="Nome do alimento" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="peso" value="#{alimentoCtrl.alimento.peso}"
							onkeyup="somenteNumeros(this);" />
						<h:outputLabel value="Peso (kg)" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="preco" value="#{alimentoCtrl.alimento.preco}"
							onkeyup="somenteNumeros(this);">
						</h:inputText>
						<h:outputLabel value="Preco unitário (R$)" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="quantidade"
							value="#{alimentoCtrl.alimento.quantidade}"
							onkeyup="somenteNumeros2(this);" />
						<h:outputLabel value="Quantidade em estoque" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="carbo"
							value="#{alimentoCtrl.alimento.carboidratos}"
							onkeyup="somenteNumeros(this);" />

						<h:outputLabel value="Carboidratos" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="gorduras"
							value="#{alimentoCtrl.alimento.gordurasTotais}"
							onkeyup="somenteNumeros(this);" />

						<h:outputLabel value="Gorduras totais" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="fibra"
							value="#{alimentoCtrl.alimento.fibraAlimentar}"
							onkeyup="somenteNumeros(this);" />
						<h:outputLabel value="Fibra alimentar" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="proteinas"
							value="#{alimentoCtrl.alimento.proteinas}"
							onkeyup="somenteNumeros(this);" />
						<h:outputLabel value="Proteínas" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="sodio" value="#{alimentoCtrl.alimento.sodio}"
							onkeyup="somenteNumeros(this);" />
						<h:outputLabel value="Sódio" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="fabrica"
							value="#{alimentoCtrl.alimento.fabricacao}">
							<f:convertDateTime pattern="dd/MM/yyyy"
								timeZone="America/Sao_Paulo" />

						</h:inputText>
						<h:outputLabel value="Data de fabricação (dd/MM/yyyy)" />
					</div>

					<div class="col s12 input-field">
						<h:inputText id="validade" styleClass="date"
							value="#{alimentoCtrl.alimento.validade}">
							<f:convertDateTime pattern="dd/MM/yyyy"
								timeZone="America/Sao_Paulo" />
						</h:inputText>
						<h:outputLabel value="Data de validade (dd/MM/yyyy)" />
					</div>
				</div>

				<div class="card-action right-align">
					<h:commandButton class="waves-effect waves-green btn"
						value="Cadastrar" action="#{alimentoCtrl.salvar()}"
						onclick="alert('Pressione ok para confimar o cadastro')" />

					<!-- Problema na hora de volta para login -->
					<h:commandButton class="waves-effect waves-red btn red"
						value="Cancelar" action="indexFornecedor" />

				</div>
			</div>
		</div>
	</div>
	
	<script src="../resources/js/jquery-3.2.1.min.js"></script>
	<script src="../resources/js/materialize.js"></script>
	<script src="../resources/js/init.js"></script>

	<script>

			$('.modal').modal({
			      dismissible: true, // Modal can be dismissed by clicking outside of the modal
			      opacity: .5, // Opacity of modal background
			      inDuration: 300, // Transition in duration
			      outDuration: 200, // Transition out duration
			      startingTop: '4%', // Starting top style attribute
			      endingTop: '10%', // Ending top style attribute
			      ready: function(modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
			        
			        console.log(modal, trigger);
			      }
			    }
			  );
			</script>

	<script>
			    function somenteNumeros(num) {
			        var er = /[^0-9.]/;
			        er.lastIndex = 0;
			        var campo = num;
			        if (er.test(campo.value)) {
			          campo.value = "";
			        }
			    }
 			</script>

	<script>
			    function somenteNumeros2(num) {
			        var er = /[^0-9]/;
			        er.lastIndex = 0;
			        var campo = num;
			        if (er.test(campo.value)) {
			          campo.value = "";
			        }
			    }
 			</script>


</ui:composition>
</html>