<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:mp="http://primefaces.org/ui/material"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:body>
	<ui:composition template="../template/common.xhtml">
		<ui:define name="content">
			<div class="container2">
				<div class="materialize-white lighten-2">
					<div class="row"></div>
					<div class="row"></div>
					<div class="row">
						<div class="col s12 m12 l6 offset-l3">
							<h:form>
								<h:messages style="color:red; font-weight: 900" />
								<h5 class="card-title"
									style="color: #26a69a; text-align: center; font-size: 30px">Cadastramento
									de fornecedor</h5>
								<div class="card white darken-1">

									<div class="header center black-text text-lighten-1">

										<div class="row">
											<div class="col s12 input-field">
												<h:inputText id="nome"
													value="#{fornecedorCtrl.fornecedor.nome}" />
												<h:outputLabel value="Nome completo" />
											</div>

											<div class="col s12 input-field">
												<h:inputText id="data" styleClass="campoData"
													value="#{fornecedorCtrl.fornecedor.dataNascimento}"
													type="text" requiredMessage="Campo data não informado"
													required="true">
													<f:convertDateTime pattern="dd/MM/yyyy"
														timeZone="America/Sao_Paulo" />
												</h:inputText>
												<h:outputLabel value="Data de nascimento" />
											</div>

											<div class="col s12 input-field">
												<h:inputText id="email"
													value="#{fornecedorCtrl.fornecedor.email}">
													<f:validateRegex
														pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+" />
												</h:inputText>
												<h:outputLabel value="Email" />
											</div>

											<div class="col s12 input-field">
												<h:inputText id="cpf" styleClass="campoCpf"
													value="#{fornecedorCtrl.fornecedor.cpf}"
													requiredMessage="Campo CPF não informado" required="true" />
												<h:outputLabel value="CPF" />

											</div>

											<div class="col s12 input-field">
												<h:inputText id="telefone" styleClass="campoTelefone"
													value="#{fornecedorCtrl.fornecedor.telefone}" type="text"
													requiredMessage="Campo telefone não informado"
													required="true" />
												<h:outputLabel value="Telefone" />
											</div>

											<div class="col s12 input-field">
												<h:inputSecret id="senha"
													value="#{fornecedorCtrl.fornecedor.senha}" size="10"
													maxlength="10" required="true" redisplay="true" />
												<h:outputLabel value="Senha (máximo 10 caracteres)" />
											</div>

											<div class="col s12 input-field">
												<h:inputSecret id="resenha"
													value="#{fornecedorCtrl.confirmarSenha}" size="10"
													maxlength="10" required="true" redisplay="true"
													requiredMessage="Campo repete senha não informado" />
												<h:outputLabel value="Repita a senha" />
											</div>

											<div class="row">
												<div class="input-field col s3">
													<h:inputText id="cnpj" type="text" styleClass="campoCnpj"
														value="#{fornecedorCtrl.fornecedor.cnpj}"
														requiredMessage="Campo CNPJ não informado" required="true" />
													<label>CNPJ</label>
												</div>

												<div class="input-field col s9">
													<h:inputText id="empresa" type="text"
														value="#{fornecedorCtrl.fornecedor.empresa}"
														requiredMessage="Campo empresa não informado"
														required="true" />
													<label>Nome da empresa</label>
												</div>
											</div>
										</div>
										<hr />

										<h5 class="card-title"
											style="color: #26a69a; text-align: justify; margin-left: 20px; font-size: 15px;">
											Endereço</h5>

										<div class="row">
											<div class="row">
												<div class="input-field col s6">
													<h:inputText id="estado" type="text"
														value="#{fornecedorCtrl.fornecedor.endereco.estado}"
														requiredMessage="Campo estado não informado"
														required="true" />
													<label>Estado</label>
												</div>

												<div class="input-field col s6">
													<h:inputText id="cidade" type="text"
														value="#{fornecedorCtrl.fornecedor.endereco.cidade}"
														requiredMessage="Campo cidade não informado"
														required="true" />
													<label>Cidade</label>
												</div>
											</div>
										</div>

										<div class="row">
											<div class="row">
												<div class="input-field col s3">
													<h:inputText id="cep" type="text" styleClass="campoCep"
														value="#{fornecedorCtrl.fornecedor.endereco.cep}"
														requiredMessage="Campo CEP não informado" required="true" />
													<label>CEP</label>
												</div>

												<div class="input-field col s9">
													<h:inputText id="bairro" type="text"
														value="#{fornecedorCtrl.fornecedor.endereco.bairro}" />
													<label>Bairro</label>
												</div>
											</div>
										</div>

										<div class="row">
											<div class="row">
												<div class="input-field col s3">
													<h:inputText id="numero" type="text"
														value="#{fornecedorCtrl.fornecedor.endereco.numero}"
														onkeyup="somenteNumeros2(this);"
														requiredMessage="Campo número não informado"
														required="true" />
													<label>Numero</label>
												</div>

												<div class="input-field col s9">
													<h:inputText id="rua" type="text"
														value="#{fornecedorCtrl.fornecedor.endereco.rua}"
														requiredMessage="Campo rua não informado" required="true" />
													<label>Rua</label>
												</div>
											</div>
										</div>

										<div class="card-action right-align">
											<a class="waves-effect waves-light btn" href="#modal1">Cadastrar</a>

											<!-- Modal Structure -->
											<div id="modal1" class="modal">
												<div class="modal-content">
													<h4>Confirmar cadastro?</h4>
													<p>Tem certeza dos dados informados?</p>
												</div>
												<div class="modal-footer">
													<h:commandButton class="waves-effect waves-green btn"
														value="Confirmar" action="#{fornecedorCtrl.salvar()}">
													</h:commandButton>
												</div>
											</div>

											<!-- Problema na hora de volta para login -->
											<h:commandButton class="waves-effect waves-red btn red"
												value="Cancelar" action="selecao" immediate="true" />
										</div>
									</div>
								</div>
							</h:form>
						</div>
					</div>
				</div>
			</div>
			<script>
			    function somenteNumeros(num) {
			        var er = /[^0-9.]/;
			        er.lastIndex = 0;
			        var campo = num;
			        if (er.test(campo.value)) {
			          campo.value = "";
			        }
			    }
 			</script>

			<script>
			    function somenteNumeros2(num) {
			        var er = /[^0-9]/;
			        er.lastIndex = 0;
			        var campo = num;
			        if (er.test(campo.value)) {
			          campo.value = "";
			        }
			    }
 			</script>

			<script>
				$(document).ready(function(){
				  // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
				  $('.modal').modal();
				});
			</script>

			<script>
				jQuery(function($){
					$(".campoData").mask("99/99/9999");
					$(".campoTelefone").mask("(99) 9999-9999");
					$(".campoCpf").mask("999.999.999-99");
					$(".campoCep").mask("99999-999");
					$(".campoCnpj").mask("99.999.999/9999-99");
				});
			</script>


		</ui:define>
	</ui:composition>
</h:body>
</html>